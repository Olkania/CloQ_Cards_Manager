  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "manager_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_id" integer, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "gate_id" integer, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "vacation_id" integer, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "register_id" integer, "employee_id" integer NOT NULL, "gate_id" integer NOT NULL, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
, CONSTRAINT "fk_rails_ff490742fb"
FOREIGN KEY ("gate_id")
  REFERENCES "gates" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_gate_id" ON "registers" ("gate_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-03 20:27:27.882324"], ["updated_at", "2023-01-03 20:27:27.882324"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-01-03 21:27:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 1222)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 350.7ms | Allocations: 80284)
Completed 200 OK in 394ms (Views: 360.1ms | ActiveRecord: 1.1ms | Allocations: 92879)


Started GET "/" for ::1 at 2023-01-03 21:29:44 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `protect_from_forgery' for ApplicationController:Class):
  
app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
app/controllers/application_controller.rb:1:in `<main>'
app/controllers/static_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2023-01-03 21:30:08 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1115)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 64.9ms | Allocations: 25298)
Completed 200 OK in 93ms (Views: 69.3ms | ActiveRecord: 1.7ms | Allocations: 36418)


Started GET "/" for ::1 at 2023-01-03 21:31:46 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering static/index.html.erb
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb (Duration: 2.9ms | Allocations: 1108)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 0.4ms | Allocations: 9355)


Started GET "/" for ::1 at 2023-01-03 21:33:32 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1115)
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 24933)
Completed 200 OK in 89ms (Views: 72.1ms | ActiveRecord: 1.9ms | Allocations: 36053)


Started GET "/" for ::1 at 2023-01-03 21:33:33 +0100
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 502)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 2296)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms | Allocations: 2624)


Started GET "/login" for ::1 at 2023-01-03 21:33:35 +0100
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 16.2ms | Allocations: 4929)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 6621)
Completed 200 OK in 22ms (Views: 21.0ms | ActiveRecord: 0.1ms | Allocations: 7462)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 13:49:52 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1115)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 60.5ms | Allocations: 28557)
Completed 200 OK in 83ms (Views: 64.0ms | ActiveRecord: 1.0ms | Allocations: 39677)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 13:54:09 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 13:56:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StaticController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering static/index.html.erb within layouts/application
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/static/index.html.erb:6
  Rendered static/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1115)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/helpers/sessions_helper.rb:7:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 425.6ms | Allocations: 84479)
Completed 200 OK in 475ms (Views: 434.9ms | ActiveRecord: 1.2ms | Allocations: 96241)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 14:37:24 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:37:46 +0100
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:37:58 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController
Did you mean?  StaticHelper):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:38:40 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant StaticController):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:40:34 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:20 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:22 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 14:45:52 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 14:45:58 +0100
Started GET "/swagger/dist/index.html?url=/api-docs.json" for 127.0.0.1 at 2023-01-05 14:45:58 +0100
  
ActionController::RoutingError (No route matches [GET] "/swagger/dist/index.html"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 14:46:40 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-01-05 14:54:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.1ms | Allocations: 732)
Completed 200 OK in 15ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 5960)


Started GET "/" for 127.0.0.1 at 2023-01-05 14:54:29 +0100
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.2ms | Allocations: 454)
Completed 200 OK in 23ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 1290)


Started GET "/" for 127.0.0.1 at 2023-01-05 14:56:25 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered vendor/bundle/ruby/3.0.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.0ms | Allocations: 732)
Completed 200 OK in 20ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 5959)


Started GET "/" for 127.0.0.1 at 2023-01-05 15:02:13 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:13 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:15 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:16 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:16 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:16 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:17 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:18 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:18:19 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 19:25:49 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 19:25:53 +0100
Started GET "/swagger/dist/index.html?url=/api-docs.json" for 127.0.0.1 at 2023-01-05 19:25:53 +0100
  
ActionController::RoutingError (No route matches [GET] "/swagger/dist/index.html"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 19:26:05 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 20:47:51 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 20:47:54 +0100
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 20:47:55 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 21:16:52 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:16:54 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:16:57 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:22:48 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 21:40:34 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-05 22:03:55 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-05 22:03:56 +0100
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-05 22:03:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started GET "/api-docs.json/v1/gates.json" for 127.0.0.1 at 2023-01-05 22:03:56 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/gates.json"):
  
Started GET "/" for 127.0.0.1 at 2023-01-05 23:03:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:03:56 +0100
Started GET "/" for 127.0.0.1 at 2023-01-05 23:05:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:05:58 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-05 23:09:04 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:09:07 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-05 23:09:15 +0100
Started GET "/" for 127.0.0.1 at 2023-01-06 13:11:06 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-06 13:11:10 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-06 13:11:47 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 0.5ms | Allocations: 6508)


Started GET "/" for 127.0.0.1 at 2023-01-06 23:02:48 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-06 23:02:51 +0100
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate_id" integer NOT NULL, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
, CONSTRAINT "fk_rails_ff490742fb"
FOREIGN KEY ("gate_id")
  REFERENCES "gates" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_gate_id" ON "registers" ("gate_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-07 21:14:10.015211"], ["updated_at", "2023-01-07 21:14:10.015211"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-07 22:14:50 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-07 22:14:54 +0100
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:32:21 +0100
Processing by V1::PositionsController#index as JSON
No template found for V1::PositionsController#index, rendering head :no_content
Completed 204 No Content in 13ms (Allocations: 3443)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:33:55 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8d09090d0>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mPosition Create (5.0ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:33:55.184088"], ["updated_at", "2023-01-07 21:33:55.184088"]]
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
Completed 500 Internal Server Error in 40ms (ActiveRecord: 7.5ms | Allocations: 19727)


  
NoMethodError (undefined method `position_url' for #<V1::PositionsController:0x00000000017250>):
  
app/controllers/v1/positions_controller.rb:36:in `create'
Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:35:46 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8d40bae70>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mPosition Create (1.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:35:46.544027"], ["updated_at", "2023-01-07 21:35:46.544027"]]
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:35:in `create'
Completed 201 Created in 17ms (Views: 2.3ms | ActiveRecord: 3.9ms | Allocations: 3476)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:35:55 +0100
Processing by V1::PositionsController#index as JSON
No template found for V1::PositionsController#index, rendering head :no_content
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms | Allocations: 167)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:36:01 +0100
Processing by V1::PositionsController#index as JSON
No template found for V1::PositionsController#index, rendering head :no_content
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 114)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:36:50 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 32ms (Views: 23.5ms | ActiveRecord: 1.1ms | Allocations: 4395)


Started DELETE "/v1/positions/1" for 127.0.0.1 at 2023-01-07 22:38:20 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:73:in `set_position'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (2.1ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
No template found for V1::PositionsController#destroy, rendering head :no_content
Completed 204 No Content in 58ms (ActiveRecord: 3.4ms | Allocations: 6319)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:38:30 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 719)


Started DELETE "/v1/positions/2" for 127.0.0.1 at 2023-01-07 22:40:23 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"2"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:74:in `set_position'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (1.0ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 5892)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:44 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 652)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:47 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 603)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:47 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.3ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 603)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:40:58 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8d40fadb8>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mPosition Create (0.6ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:40:58.780509"], ["updated_at", "2023-01-07 21:40:58.780509"]]
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
Completed 201 Created in 7ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 2031)


Started DELETE "/v1/positions/3" for 127.0.0.1 at 2023-01-07 22:41:09 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"3"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:74:in `set_position'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (0.4ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 3.1ms | Allocations: 1834)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:42:38 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fb8cbf110b8>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:42:38.175732"], ["updated_at", "2023-01-07 21:42:38.175732"]]
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:36:in `create'
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 2.8ms | Allocations: 3358)


Started DELETE "/v1/positions/4" for 127.0.0.1 at 2023-01-07 22:42:42 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"4"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:74:in `set_position'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mPosition Destroy (0.5ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:67:in `destroy'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 2538)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-07 22:50:09 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "user"=>{"login"=>"abc"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f96edd6b358>, params: {"login"=>"abc", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
Completed 422 Unprocessable Entity in 262ms (Views: 25.9ms | ActiveRecord: 1.6ms | Allocations: 28725)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-07 22:52:19 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456", "account_type"=>"abc", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f96f2d49c30>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456", "account_type"=>"abc", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"PL01234567890123456789123456"}} }[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "PL01234567890123456789123456"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "PL01234567890123456789123456"], ["created_at", "2023-01-07 21:52:19.494997"], ["updated_at", "2023-01-07 21:52:19.494997"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:35:in `create'
Completed 201 Created in 243ms (Views: 0.9ms | ActiveRecord: 5.2ms | Allocations: 5089)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-07 22:52:52 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 200 OK in 230ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1264)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-07 22:53:03 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 401 Unauthorized in 214ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 563)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-07 22:56:39 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f96f6935c30>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:37:in `create'
  [1m[36mPosition Create (0.8ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-07 21:56:39.510355"], ["updated_at", "2023-01-07 21:56:39.510355"]]
  â†³ app/controllers/v1/positions_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:37:in `create'
Completed 201 Created in 19ms (Views: 0.5ms | ActiveRecord: 4.1ms | Allocations: 15864)


Started DELETE "/v1/positions/5" for 127.0.0.1 at 2023-01-07 22:57:13 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:75:in `set_position'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 1524)


  
JWT::DecodeError (Not enough or too many segments):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-07 22:57:27 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 793)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-07 22:57:38 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 200 OK in 224ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 8066)


Started DELETE "/v1/positions/5" for 127.0.0.1 at 2023-01-07 22:58:08 +0100
Processing by V1::PositionsController#destroy as JSON
  Parameters: {"id"=>"5"}
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/v1/positions_controller.rb:75:in `set_position'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:68:in `destroy'
  [1m[36mPosition Destroy (3.1ms)[0m  [1m[31mDELETE FROM "positions" WHERE "positions"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/v1/positions_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:68:in `destroy'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 3084)


Started GET "/" for 127.0.0.1 at 2023-01-08 12:19:58 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-08 12:20:02 +0100
Started POST "/v1/login" for 127.0.0.1 at 2023-01-08 12:20:37 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"password":"abcdef"
}

Processing by V1::SessionsController#login as JSON
Completed 400 Bad Request in 12ms (ActiveRecord: 0.0ms | Allocations: 6107)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/sessions_controller.rb:40:in `login'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:20:51 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:13:in `index'
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 1.3ms | Allocations: 19103)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-08 12:21:11 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:40:in `login'
Completed 200 OK in 233ms (Views: 0.3ms | ActiveRecord: 1.0ms | Allocations: 4929)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:32:27 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:13:in `index'
Completed 200 OK in 21ms (Views: 10.7ms | ActiveRecord: 1.6ms | Allocations: 7823)


Started GET "/" for 127.0.0.1 at 2023-01-08 12:33:35 +0100
Started GET "/" for 127.0.0.1 at 2023-01-08 12:41:27 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-08 12:42:22 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-08 12:42:43 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-08 12:42:49 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:45:47 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 22ms (Views: 12.3ms | ActiveRecord: 1.1ms | Allocations: 24573)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-08 12:46:22 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2556)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-08 12:46:39 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mRegister Load (0.3ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:16:in `index'
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 4444)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:49:14 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 10ms (Views: 1.1ms | ActiveRecord: 0.7ms | Allocations: 6939)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:50:16 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.5ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.5ms | Allocations: 3426)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:50:49 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 729)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 12:50:56 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user"=>1, "manager"=>{}}
[31mUnpermitted parameters: :user, :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007f974122f850>, params: {"user"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{}} }[0m
Completed 422 Unprocessable Entity in 46ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 21144)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 12:52:02 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007f9741436d38>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (4.3ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 11:52:02.539416"], ["updated_at", "2023-01-08 11:52:02.539416"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 6.2ms | Allocations: 13302)


  
ActionView::MissingTemplate (Missing template v1/managers/show, application/show with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actiontext-7.0.4/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actionmailbox-7.0.4/app/views"

Did you mean?  managers/show
               positions/show
               vacations/show
               rails/conductor/action_mailbox/inbound_emails/show
               employees/show
               registers/show):
  
app/controllers/v1/managers_controller.rb:36:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:52:12 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.2ms | Allocations: 745)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-08 12:54:02 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"pracownik", "salary"=>6000, "position"=>{"position_name"=>"pracownik", "salary"=>6000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f973cd15468>, params: {"position_name"=>"pracownik", "salary"=>6000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"pracownik", "salary"=>6000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mPosition Create (1.5ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "pracownik"], ["salary", 6000], ["created_at", "2023-01-08 11:54:02.198074"], ["updated_at", "2023-01-08 11:54:02.198074"]]
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
Completed 201 Created in 106ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 15848)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 12:54:09 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 852)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:26 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973c72dc58>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.3ms | Allocations: 957)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:34 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 604)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:38 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 603)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:38 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.1ms | Allocations: 603)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:54:39 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:03 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f974165fb78>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:04 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973ce854b0>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 967)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:05 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97411a1348>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:06 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9741676440>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 967)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:06 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9740e75e80>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:07 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}}
[31mUnpermitted parameters: :manager, :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97429f4d78>, params: {"user_id"=>1, "department"=>"abc", "manager"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 966)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:55:44 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973f08ee08>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:50 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 706)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:50 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 705)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:51 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 705)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 12:55:51 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 705)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:56:07 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97421ab270>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:56:07 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973cf16c80>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 12:57:00 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 717)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 12:57:24 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 716)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 12:57:25 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms | Allocations: 717)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:57:38 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9739e8cc90>, params: {"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abc", "manager_id"=>1, "position_id"=>1}} }[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:58:24 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f9742158ae8>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:42 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97423d0618>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>1}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:48 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:53 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f97412c93d8>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 12:59:54 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f973cd92580>, params: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}} }[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 971)


  
NoMethodError (undefined method `update' for nil:NilClass):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 13:03:28 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.2ms | Allocations: 704)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:07:32 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.6ms | Allocations: 2598)


  
NameError (undefined local variable or method `position_params' for #<V1::EmployeesController:0x0000000001a9a0>):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:07:43 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.7ms | Allocations: 765)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:07:48 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"ppppp", "manager_id"=>1, "position_id"=>6}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2575)


  
NameError (undefined local variable or method `position_params' for #<V1::EmployeesController:0x0000000001ad38>):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 13:08:01 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 27ms (Views: 17.6ms | ActiveRecord: 1.2ms | Allocations: 7973)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 13:08:08 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (1.6ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 14ms (Views: 6.4ms | ActiveRecord: 2.6ms | Allocations: 4777)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 13:08:13 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.8ms | Allocations: 3850)


Started GET "/" for 127.0.0.1 at 2023-01-08 13:09:01 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-08 13:09:07 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-08 13:09:07 +0100
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 13:09:15 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.4ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 24ms (Views: 13.1ms | ActiveRecord: 0.9ms | Allocations: 19098)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:09:24 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 13ms (Views: 1.2ms | ActiveRecord: 0.7ms | Allocations: 7490)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:03 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6}}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2585)


  
NameError (undefined local variable or method `position_params' for #<V1::EmployeesController:0x0000000000f0a0>):
  
app/controllers/v1/employees_controller.rb:32:in `create'
Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:12 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 613)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:14 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 603)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:10:15 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 13:11:40 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6, "employee"=>{"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fe170548900>, params: {"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"abcdefghi", "manager_id"=>1, "position_id"=>6}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mManager Load (0.4ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mEmployee Create (1.4ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["department", "abcdefghi"], ["manager_id", 1], ["position_id", 6], ["created_at", "2023-01-08 12:11:40.637873"], ["updated_at", "2023-01-08 12:11:40.637873"]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
Completed 201 Created in 57ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 55539)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 13:11:47 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 861)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-08 13:13:16 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.2ms | Allocations: 900)


Started GET "/" for 127.0.0.1 at 2023-01-08 13:36:16 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-01-08 13:45:17 +0100
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 13:53:20 +0100
Error occurred while parsing request parameters.
Contents:

{
"employee_id":1,
"gate":1,
"date_in":2023-01-02,
"time_in":2023-01-02 07:00:00 UTC,
"date_out":2023-01-02,
"time_out":2023-01-02 15:00:00 UTC
}
Processing by V1::RegistersController#create as JSON
Completed 400 Bad Request in 4ms (Allocations: 745)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/registers_controller.rb:80:in `register_params'
app/controllers/v1/registers_controller.rb:36:in `create'
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 13:55:38 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "register"=>{"employee_id"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}}
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fcab91b9dc0>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}} }[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 2.0ms | Allocations: 20138)


  
ActiveModel::UnknownAttributeError (unknown attribute 'gate' for Register.):
  
app/controllers/v1/registers_controller.rb:36:in `create'
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-08 13:01:13.042011"], ["updated_at", "2023-01-08 13:01:13.042011"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-08 14:01:53 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-08 14:01:57 +0100
Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 14:02:02 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.4ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.4ms | Allocations: 3578)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-08 14:07:04 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fabf9164818>, params: {"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (2.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "jkow"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jkowalski@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "PL01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 77ms (Views: 7.6ms | ActiveRecord: 4.0ms | Allocations: 25329)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-08 14:07:23 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"jkow", "password"=>"[FILTERED]", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fabfb098590>, params: {"login"=>"jkow", "password"=>"[FILTERED]", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"jkow", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"jkowalski@gmail.com", "account_no"=>"PL01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "jkow"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jkowalski@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "PL01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "jkow"], ["first_name", "Jan"], ["last_name", "Kowalski"], ["account_type", "Admin"], ["email", "jkowalski@gmail.com"], ["account_no", "PL01234567890123456789012345"], ["created_at", "2023-01-08 13:07:23.979559"], ["updated_at", "2023-01-08 13:07:23.979559"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 229ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 5077)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 14:08:49 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fabf67676f0>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (1.7ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 13:08:49.642489"], ["updated_at", "2023-01-08 13:08:49.642489"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 500 Internal Server Error in 41ms (ActiveRecord: 4.2ms | Allocations: 24674)


  
ActionView::MissingTemplate (Missing template v1/managers/show, application/show with {:locale=>[:en], :formats=>[:json], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}.

Searched in:
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actiontext-7.0.4/app/views"
  * "/Users/jakub/IdeaProjects/AM_Projekt_RCP/ServerApp/vendor/bundle/ruby/3.0.0/gems/actionmailbox-7.0.4/app/views"

Did you mean?  managers/show
               positions/show
               vacations/show
               rails/conductor/action_mailbox/inbound_emails/show
               employees/show
               registers/show):
  
app/controllers/v1/managers_controller.rb:36:in `create'
Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 14:08:55 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.2ms | Allocations: 865)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 14:09:59 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fabf5f28700>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (0.9ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 13:10:00.184701"], ["updated_at", "2023-01-08 13:10:00.184701"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 201 Created in 106ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 11238)


Started GET "/v1/managers" for 127.0.0.1 at 2023-01-08 14:10:10 +0100
Processing by V1::ManagersController#index as JSON
  [1m[36mManager Load (0.2ms)[0m  [1m[34mSELECT "managers".* FROM "managers"[0m
  â†³ app/controllers/v1/managers_controller.rb:15:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 929)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-08 14:10:40 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007fabfc1279d8>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mManager Create (0.4ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-08 13:10:40.844961"], ["updated_at", "2023-01-08 13:10:40.844961"]]
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:35:in `create'
Completed 201 Created in 18ms (Views: 0.3ms | ActiveRecord: 3.2ms | Allocations: 11207)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-08 14:12:10 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.2ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 2220)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-08 14:12:36 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"Manager", "salary"=>5000, "position"=>{"position_name"=>"Manager", "salary"=>5000}}
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007fabfe8bdf10>, params: {"position_name"=>"Manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"Manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "Manager"], ["salary", 5000], ["created_at", "2023-01-08 13:12:36.619795"], ["updated_at", "2023-01-08 13:12:36.619795"]]
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:38:in `create'
Completed 201 Created in 14ms (Views: 0.3ms | ActiveRecord: 1.8ms | Allocations: 15695)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-08 14:12:42 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1}}
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007fabfe412fd8>, params: {"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"A", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mEmployee Create (1.7ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["department", "A"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-08 13:12:43.008498"], ["updated_at", "2023-01-08 13:12:43.008498"]]
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:35:in `create'
Completed 201 Created in 22ms (Views: 0.3ms | ActiveRecord: 3.3ms | Allocations: 22548)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-08 14:12:47 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms | Allocations: 859)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 14:14:47 +0100
Error occurred while parsing request parameters.
Contents:

{
"employee_id":1,
"gate":1,
"date_in":2023-01-02,
"time_in":2023-01-02 07:00:00 UTC,
"date_out":2023-01-02,
"time_out":2023-01-02 15:00:00 UTC
}
Processing by V1::RegistersController#create as JSON
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 702)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/v1/registers_controller.rb:80:in `register_params'
app/controllers/v1/registers_controller.rb:36:in `create'
Started POST "/v1/registers" for 127.0.0.1 at 2023-01-08 14:15:09 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}}
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007fabfec8e900>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-02", "time_in"=>"2023-01-02 07:00:00 UTC", "date_out"=>"2023-01-02", "time_out"=>"2023-01-02 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mRegister Create (0.9ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-02"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-02"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-08 13:15:09.607515"], ["updated_at", "2023-01-08 13:15:09.607515"]]
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:37:in `create'
Completed 201 Created in 22ms (Views: 0.4ms | ActiveRecord: 3.0ms | Allocations: 20332)


Started GET "/v1/vacations" for 127.0.0.1 at 2023-01-08 14:17:32 +0100
Processing by V1::VacationsController#index as JSON
  [1m[36mVacation Load (0.8ms)[0m  [1m[34mSELECT "vacations".* FROM "vacations"[0m
  â†³ app/controllers/v1/vacations_controller.rb:15:in `index'
Completed 200 OK in 15ms (Views: 3.9ms | ActiveRecord: 0.8ms | Allocations: 2344)


Started POST "/v1/vacations" for 127.0.0.1 at 2023-01-08 14:19:37 +0100
Processing by V1::VacationsController#create as JSON
  Parameters: {"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1, "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1}}
[31mUnpermitted parameter: :vacation. Context: { controller: V1::VacationsController, action: create, request: #<ActionDispatch::Request:0x00007fabfed640c8>, params: {"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1, "controller"=>"v1/vacations", "action"=>"create", "vacation"=>{"employee_id"=>1, "start_date"=>"2023-01-10", "end_date"=>"2023-01-11", "vacation_type"=>"full-paid", "decision"=>1}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mVacation Create (0.7ms)[0m  [1m[32mINSERT INTO "vacations" ("employee_id", "start_date", "end_date", "vacation_type", "decision", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["start_date", "2023-01-10"], ["end_date", "2023-01-11"], ["vacation_type", "full-paid"], ["decision", 1], ["created_at", "2023-01-08 13:19:37.180685"], ["updated_at", "2023-01-08 13:19:37.180685"]]
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/vacations_controller.rb:37:in `create'
Completed 201 Created in 22ms (Views: 0.5ms | ActiveRecord: 2.2ms | Allocations: 18964)


Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-08 14:39:24 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-08 14:39:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-08 14:39:25 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started GET "/" for 127.0.0.1 at 2023-01-09 13:35:14 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 13:35:17 +0100
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 13:35:23 +0100
Processing by V1::UsersController#index as JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 462)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/" for 127.0.0.1 at 2023-01-09 13:41:54 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 13:41:57 +0100
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:44:45 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"password":"abcdef",
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_no":"pl01234567890123456789012345"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 455)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:45:46 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"password":"abcdef",
"first_name":"jan",
"account_type":"admin",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_no":"pl01234567890123456789012345"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:47:48 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"pl01234567890123456789012345"
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:47:55 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"pl01234567890123456789012345",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 1ms (Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:48:57 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"1234567890123456789012345678",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 2ms (Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:48:58 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"bbbbbbb",
"account_type":"admin",
"account_no":"1234567890123456789012345678",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:49:13 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc"
"first_name":"jan",
"last_name":"kowalski",
"email":"jankowalski@gmail.com",
"account_type":"admin",
"account_no":"1234567890123456789012345678",
"password":"password"
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:50:27 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "email"=>"jankowalski@gmail.com", "account_type"=>"admin", "account_no"=>"1234567890123456789012345678", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "account_type"=>"admin", "email"=>"jankowalski@gmail.com", "account_no"=>"1234567890123456789012345678"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 3.8ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 13:50:37 +0100
Processing by V1::UsersController#index as JSON
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 13:51:28 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 401 Unauthorized in 42ms (Views: 3.6ms | ActiveRecord: 3.5ms | Allocations: 2479)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:51:41 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "email"=>"jankowalski@gmail.com", "account_type"=>"admin", "account_no"=>"1234567890123456789012345678", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "account_type"=>"admin", "email"=>"jankowalski@gmail.com", "account_no"=>"1234567890123456789012345678"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:52:27 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "email"=>"jankowalski@gmail.com", "account_type"=>"admin", "account_no"=>"1234567890123456789012345678", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"jan", "last_name"=>"kowalski", "account_type"=>"admin", "email"=>"jankowalski@gmail.com", "account_no"=>"1234567890123456789012345678"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 419)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started GET "/" for 127.0.0.1 at 2023-01-09 13:53:42 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 13:53:44 +0100
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:55:04 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_no"=>"PL123456789012345678901234", "email"=>"email", "account_type"=>"Admin", "password"=>"[FILTERED]", "user"=>{"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"email", "account_no"=>"PL123456789012345678901234"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.4ms | Allocations: 454)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:55:48 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_no"=>"PL123456789012345678901234", "email"=>"email", "account_type"=>"Admin", "password"=>"[FILTERED]", "user"=>{"login"=>"abcdef", "first_name"=>"Jan", "last_name"=>"Kowalski", "account_type"=>"Admin", "email"=>"email", "account_no"=>"PL123456789012345678901234"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 1.4ms | Allocations: 396)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:55:58 +0100
Error occurred while parsing request parameters.
Contents:

/..
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 358)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:58:02 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.4ms | Allocations: 457)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:58:50 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 421)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:59:44 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 421)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 13:59:55 +0100
Error occurred while parsing request parameters.
Contents:

{
"login":"abc",
"first_name":"abc",
"last_name":"abc",
"account_type":"abc",
"email":"abc",
"account_type":"abc",
"account_no":"pl01234567890123456789012345",
"password":"password",
}
Processing by V1::UsersController#create as JSON
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 357)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 14:00:01 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 421)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 14:03:03 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.0ms | Allocations: 2654)


  
NameError (undefined local variable or method `employee_params' for #<V1::UsersController:0x0000000000ef60>):
  
app/controllers/v1/users_controller.rb:34:in `create'
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 13:21:12.662891"], ["updated_at", "2023-01-09 13:21:12.662891"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-09 14:21:25 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-09 14:21:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-09 14:21:26 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 14:21:51 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fc579a5aca8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 13:21:52.262613"], ["updated_at", "2023-01-09 13:21:52.262613"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 241ms (Views: 1.0ms | ActiveRecord: 3.3ms | Allocations: 24862)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 14:21:56 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms | Allocations: 941)


  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 14:04:14.028720"], ["updated_at", "2023-01-09 14:04:14.028720"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-01-09 15:04:29 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:04:32 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:05:21 +0100
Started GET "/" for 127.0.0.1 at 2023-01-09 15:05:30 +0100
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:05:33 +0100
Started GET "/" for ::1 at 2023-01-09 15:08:12 +0100
Started GET "/api" for ::1 at 2023-01-09 15:08:15 +0100
Started GET "/" for 127.0.0.1 at 2023-01-09 15:09:20 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 15:09:23 +0100
Started POST "/v1/users" for ::1 at 2023-01-09 15:14:23 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "email"=>"aaaaaa", "account_type"=>"admin", "account_no"=>"pl01234567890123456789012345", "first_name"=>"admin", "last_name"=>"adminowski", "user"=>{"login"=>"abc", "first_name"=>"admin", "last_name"=>"adminowski", "account_type"=>"admin", "email"=>"aaaaaa", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fa5cccb4c28>, params: {"login"=>"abc", "password"=>"[FILTERED]", "email"=>"aaaaaa", "account_type"=>"admin", "account_no"=>"pl01234567890123456789012345", "first_name"=>"admin", "last_name"=>"adminowski", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"admin", "last_name"=>"adminowski", "account_type"=>"admin", "email"=>"aaaaaa", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "aaaaaa"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "admin"], ["last_name", "adminowski"], ["account_type", "admin"], ["email", "aaaaaa"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 14:14:23.958043"], ["updated_at", "2023-01-09 14:14:23.958043"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 242ms (Views: 1.2ms | ActiveRecord: 7.2ms | Allocations: 24880)


Started POST "/v1/login" for ::1 at 2023-01-09 15:15:05 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 218ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1268)


Started GET "/" for 127.0.0.1 at 2023-01-09 19:13:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api" for 127.0.0.1 at 2023-01-09 19:14:10 +0100
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:21:30 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7fb9509a48>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 337ms (Views: 14.0ms | ActiveRecord: 4.1ms | Allocations: 25572)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:21:46 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7fb5f1e2d0>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012335"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012335"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012335"], ["created_at", "2023-01-09 18:21:46.508226"], ["updated_at", "2023-01-09 18:21:46.508226"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 241ms (ActiveRecord: 4.2ms | Allocations: 5761)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:22:11.679049"], ["updated_at", "2023-01-09 18:22:11.679049"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:23:41 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007ff08d6f4638>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 18:23:41.787482"], ["updated_at", "2023-01-09 18:23:41.787482"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 247ms (Views: 1.2ms | ActiveRecord: 4.2ms | Allocations: 24889)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:24:03 +0100
Processing by V1::UsersController#index as JSON
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 471)


  
JWT::DecodeError (Nil JSON web token):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:26:53.482442"], ["updated_at", "2023-01-09 18:26:53.482442"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:27:39 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db7d5d770>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 18:27:40.095027"], ["updated_at", "2023-01-09 18:27:40.095027"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 252ms (Views: 1.1ms | ActiveRecord: 4.5ms | Allocations: 24887)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:27:45 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.3ms | Allocations: 948)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:27:59 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db7a69a00>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 227ms (Views: 5.8ms | ActiveRecord: 0.6ms | Allocations: 5395)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:05 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db656d020>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:28:05.729472"], ["updated_at", "2023-01-09 18:28:05.729472"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 222ms (ActiveRecord: 1.8ms | Allocations: 5098)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:17 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db92d6548>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "abc"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:28:17.794092"], ["updated_at", "2023-01-09 18:28:17.794092"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 221ms (ActiveRecord: 1.1ms | Allocations: 5062)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:24 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms | Allocations: 779)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:25 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 780)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:28:26 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.1ms | Allocations: 780)


Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 19:29:30 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 301ms (Views: 0.4ms | ActiveRecord: 1.3ms | Allocations: 1191)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:30:54 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f7dbab2f108>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (1.3ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-09 18:30:55.068038"], ["updated_at", "2023-01-09 18:30:55.068038"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 37ms (Views: 1.1ms | ActiveRecord: 5.5ms | Allocations: 16967)


Started POST "/v1/managers" for 127.0.0.1 at 2023-01-09 19:32:57 +0100
Processing by V1::ManagersController#create as JSON
  Parameters: {"user_id"=>1, "manager"=>{"user_id"=>1}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :manager. Context: { controller: V1::ManagersController, action: create, request: #<ActionDispatch::Request:0x00007f7dbac050c8>, params: {"user_id"=>1, "controller"=>"v1/managers", "action"=>"create", "manager"=>{"user_id"=>1}} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mManager Create (2.3ms)[0m  [1m[32mINSERT INTO "managers" ("user_id", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["user_id", 1], ["created_at", "2023-01-09 18:32:58.180212"], ["updated_at", "2023-01-09 18:32:58.180212"]]
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/managers_controller.rb:36:in `create'
Completed 201 Created in 77ms (Views: 1.1ms | ActiveRecord: 5.8ms | Allocations: 21368)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-09 19:34:47 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.4ms | Allocations: 493)


  
JWT::ExpiredSignature (Signature has expired):
  
app/controllers/concerns/json_web_token.rb:12:in `jwt_decode'
app/controllers/application_controller.rb:8:in `authenticate_request'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 19:35:05 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 217ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 603)


Started POST "/v1/employees" for 127.0.0.1 at 2023-01-09 19:35:20 +0100
Processing by V1::EmployeesController#create as JSON
  Parameters: {"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1, "employee"=>{"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :employee. Context: { controller: V1::EmployeesController, action: create, request: #<ActionDispatch::Request:0x00007f7dba8aef50>, params: {"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1, "controller"=>"v1/employees", "action"=>"create", "employee"=>{"user_id"=>1, "department"=>"depA", "manager_id"=>1, "position_id"=>1}} }[0m
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mManager Load (0.1ms)[0m  [1m[34mSELECT "managers".* FROM "managers" WHERE "managers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mPosition Load (0.1ms)[0m  [1m[34mSELECT "positions".* FROM "positions" WHERE "positions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mEmployee Create (1.6ms)[0m  [1m[32mINSERT INTO "employees" ("user_id", "department", "manager_id", "position_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["department", "depA"], ["manager_id", 1], ["position_id", 1], ["created_at", "2023-01-09 18:35:20.740932"], ["updated_at", "2023-01-09 18:35:20.740932"]]
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/employees_controller.rb:36:in `create'
Completed 201 Created in 31ms (Views: 1.2ms | ActiveRecord: 3.5ms | Allocations: 23095)


Started GET "/v1/employees" for 127.0.0.1 at 2023-01-09 19:35:28 +0100
Processing by V1::EmployeesController#index as JSON
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees"[0m
  â†³ app/controllers/v1/employees_controller.rb:14:in `index'
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms | Allocations: 859)


Started POST "/v1/registers" for 127.0.0.1 at 2023-01-09 19:37:37 +0100
Processing by V1::RegistersController#create as JSON
  Parameters: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :register. Context: { controller: V1::RegistersController, action: create, request: #<ActionDispatch::Request:0x00007f7db7fca648>, params: {"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC", "controller"=>"v1/registers", "action"=>"create", "register"=>{"employee_id"=>1, "gate"=>1, "date_in"=>"2023-01-09", "time_in"=>"2023-01-09 07:00:00 UTC", "date_out"=>"2023-01-09", "time_out"=>"2023-01-09 15:00:00 UTC"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
  [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
  [1m[36mRegister Create (1.5ms)[0m  [1m[32mINSERT INTO "registers" ("employee_id", "gate", "date_in", "time_in", "date_out", "time_out", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["employee_id", 1], ["gate", 1], ["date_in", "2023-01-09"], ["time_in", "2000-01-01 07:00:00"], ["date_out", "2023-01-09"], ["time_out", "2000-01-01 15:00:00"], ["created_at", "2023-01-09 18:37:37.547145"], ["updated_at", "2023-01-09 18:37:37.547145"]]
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:39:in `create'
Completed 201 Created in 54ms (Views: 1.0ms | ActiveRecord: 5.5ms | Allocations: 20836)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-09 19:38:24 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:16:in `index'
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.7ms | Allocations: 1473)


Started DELETE "/v1/registers/1" for 127.0.0.1 at 2023-01-09 19:38:32 +0100
Processing by V1::RegistersController#destroy as JSON
  Parameters: {"id"=>"1"}
  [1m[36mRegister Load (0.2ms)[0m  [1m[34mSELECT "registers".* FROM "registers" WHERE "registers"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/v1/registers_controller.rb:77:in `set_register'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:70:in `destroy'
  [1m[36mRegister Destroy (2.8ms)[0m  [1m[31mDELETE FROM "registers" WHERE "registers"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/v1/registers_controller.rb:70:in `destroy'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/registers_controller.rb:70:in `destroy'
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 3063)


Started GET "/v1/registers" for 127.0.0.1 at 2023-01-09 19:38:36 +0100
Processing by V1::RegistersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
  [1m[36mRegister Load (0.1ms)[0m  [1m[34mSELECT "registers".* FROM "registers"[0m
  â†³ app/controllers/v1/registers_controller.rb:16:in `index'
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 1116)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:39:12 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db94314d8>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"abc", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (3.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "abc"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:39:13.214045"], ["updated_at", "2023-01-09 18:39:13.214045"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 263ms (ActiveRecord: 4.5ms | Allocations: 5051)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:39:45 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7db4feab08>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "sijadnaskjdv"], ["email", "afffc"], ["account_no", "pl01235567890123456789012345"], ["created_at", "2023-01-09 18:39:45.635344"], ["updated_at", "2023-01-09 18:39:45.635344"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 219ms (ActiveRecord: 1.0ms | Allocations: 5047)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:40:03 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7dbb208ce0>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl012355678123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl012355678123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 236ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 4227)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:40:07 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f7dbb251b70>, params: {"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"dede", "last_name"=>"edwde", "account_type"=>"sijadnaskjdv", "email"=>"afffc", "account_no"=>"pl01235335678123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "afffc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01235335678123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "dede"], ["last_name", "edwde"], ["account_type", "sijadnaskjdv"], ["email", "afffc"], ["account_no", "pl01235335678123456789012345"], ["created_at", "2023-01-09 18:40:07.898824"], ["updated_at", "2023-01-09 18:40:07.898824"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 234ms (ActiveRecord: 1.4ms | Allocations: 5051)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:45:32.625749"], ["updated_at", "2023-01-09 18:45:32.625749"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:46:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8e2fe95880>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 18:46:19.405811"], ["updated_at", "2023-01-09 18:46:19.405811"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 243ms (Views: 0.8ms | ActiveRecord: 4.2ms | Allocations: 24848)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:47:14 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8e3496c048>, params: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "def"], ["last_name", "def"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 18:47:15.213723"], ["updated_at", "2023-01-09 18:47:15.213723"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 241ms (ActiveRecord: 2.3ms | Allocations: 5129)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 19:48:34 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.7ms | Allocations: 952)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 19:50:12 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f8e3503f6e0>, params: {"login"=>"def", "first_name"=>"def", "last_name"=>"def", "email"=>"def", "account_type"=>"abc", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"def", "last_name"=>"def", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "def"], ["last_name", "def"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 18:50:12.982363"], ["updated_at", "2023-01-09 18:50:12.982363"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 239ms (ActiveRecord: 2.9ms | Allocations: 5063)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/login" for 127.0.0.1 at 2023-01-09 19:52:26 +0100
Processing by V1::SessionsController#login as JSON
  Parameters: {"login"=>"abc", "password"=>"[FILTERED]", "session"=>{"login"=>"abc", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/sessions_controller.rb:13:in `login'
Completed 200 OK in 228ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1190)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:52:38 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"manager", "salary"=>5000, "position"=>{"position_name"=>"manager", "salary"=>5000}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f8e35324b58>, params: {"position_name"=>"manager", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"manager", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (1.2ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "manager"], ["salary", 5000], ["created_at", "2023-01-09 18:52:38.372786"], ["updated_at", "2023-01-09 18:52:38.372786"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 19ms (Views: 0.4ms | ActiveRecord: 3.3ms | Allocations: 16969)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:52:48 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"employee", "salary"=>5000, "position"=>{"position_name"=>"employee", "salary"=>5000}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f8e35414e28>, params: {"position_name"=>"employee", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"employee", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (2.8ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "employee"], ["salary", 5000], ["created_at", "2023-01-09 18:52:48.428947"], ["updated_at", "2023-01-09 18:52:48.428947"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 10ms (Views: 0.3ms | ActiveRecord: 3.9ms | Allocations: 2417)


Started POST "/v1/positions" for 127.0.0.1 at 2023-01-09 19:52:58 +0100
Processing by V1::PositionsController#create as JSON
  Parameters: {"position_name"=>"nxiwsnc", "salary"=>5000, "position"=>{"position_name"=>"nxiwsnc", "salary"=>5000}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:9:in `authenticate_request'
[31mUnpermitted parameter: :position. Context: { controller: V1::PositionsController, action: create, request: #<ActionDispatch::Request:0x00007f8e35a5dd48>, params: {"position_name"=>"nxiwsnc", "salary"=>5000, "controller"=>"v1/positions", "action"=>"create", "position"=>{"position_name"=>"nxiwsnc", "salary"=>5000}} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mPosition Create (0.4ms)[0m  [1m[32mINSERT INTO "positions" ("position_name", "salary", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["position_name", "nxiwsnc"], ["salary", 5000], ["created_at", "2023-01-09 18:52:58.199719"], ["updated_at", "2023-01-09 18:52:58.199719"]]
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/positions_controller.rb:39:in `create'
Completed 201 Created in 6ms (Views: 0.4ms | ActiveRecord: 1.6ms | Allocations: 2417)


Started GET "/v1/positions" for 127.0.0.1 at 2023-01-09 19:53:00 +0100
Processing by V1::PositionsController#index as JSON
  [1m[36mPosition Load (0.3ms)[0m  [1m[34mSELECT "positions".* FROM "positions"[0m
  â†³ app/controllers/v1/positions_controller.rb:16:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 1064)


  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 18:59:24.725847"], ["updated_at", "2023-01-09 18:59:24.725847"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api-docs.json/v1/sessions.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/vacations.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/positions.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/employees.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/registers.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/sessions.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/registers.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/vacations.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/employees.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/positions.json"):
  
Started GET "/api-docs.json/v1/users.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
Started GET "/api-docs.json/v1/managers.json" for 127.0.0.1 at 2023-01-09 19:59:43 +0100
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/users.json"):
  
  
ActionController::RoutingError (No route matches [GET] "/api-docs.json/v1/managers.json"):
  
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:00:31 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb69df0c2c8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 19:00:31.664716"], ["updated_at", "2023-01-09 19:00:31.664716"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 248ms (Views: 0.7ms | ActiveRecord: 4.9ms | Allocations: 24991)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:00:51 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb69db0be30>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:00:51.530091"], ["updated_at", "2023-01-09 19:00:51.530091"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 222ms (ActiveRecord: 1.0ms | Allocations: 5129)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:01:41 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb6a41be970>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:01:42.105918"], ["updated_at", "2023-01-09 19:01:42.105918"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 230ms (ActiveRecord: 1.8ms | Allocations: 5059)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:04:56 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 39ms (Views: 26.0ms | ActiveRecord: 1.6ms | Allocations: 23616)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:05:10 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde471cafe8>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 422 Unprocessable Entity in 264ms (Views: 7.4ms | ActiveRecord: 0.9ms | Allocations: 8248)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:05:29 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde48087810>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:05:29.745446"], ["updated_at", "2023-01-09 19:05:29.745446"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 227ms (ActiveRecord: 2.4ms | Allocations: 5716)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:13:50 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde47fa3c50>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.7ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:13:50.545937"], ["updated_at", "2023-01-09 19:13:50.545937"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 259ms (ActiveRecord: 5.2ms | Allocations: 5188)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:14:39 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.6ms | Allocations: 826)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:15:01 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fde47ae0830>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl03234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl03234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl03234567890123456789012345"], ["created_at", "2023-01-09 19:15:01.808963"], ["updated_at", "2023-01-09 19:15:01.808963"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 235ms (ActiveRecord: 2.6ms | Allocations: 5055)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:22:56.279031"], ["updated_at", "2023-01-09 19:22:56.279031"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:24:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb7d185d3c0>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 19:24:18.890089"], ["updated_at", "2023-01-09 19:24:18.890089"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 253ms (Views: 1.0ms | ActiveRecord: 4.4ms | Allocations: 24886)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:24:40 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007fb7d033e3e0>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:24:40.832001"], ["updated_at", "2023-01-09 19:24:40.832001"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 224ms (ActiveRecord: 0.9ms | Allocations: 5129)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:27:18 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 27ms (Views: 17.9ms | ActiveRecord: 1.1ms | Allocations: 23615)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:27:49 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f92d4b98e58>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:27:49.741542"], ["updated_at", "2023-01-09 19:27:49.741542"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 247ms (ActiveRecord: 4.8ms | Allocations: 7925)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_index'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:31:04.347296"], ["updated_at", "2023-01-09 19:31:04.347296"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user" ON "users" ("user")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:36:27.938611"], ["updated_at", "2023-01-09 19:36:27.938611"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_id" ON "users" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:37:07.205216"], ["updated_at", "2023-01-09 19:37:07.205216"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:37:54 +0100
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 14ms (Views: 1.8ms | ActiveRecord: 0.6ms | Allocations: 5395)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:38:06 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f84850c0b00>, params: {"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"abc", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"abc", "account_no"=>"pl01234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "abc"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl01234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "abc"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "abc"], ["account_no", "pl01234567890123456789012345"], ["created_at", "2023-01-09 19:38:06.694337"], ["updated_at", "2023-01-09 19:38:06.694337"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 201 Created in 262ms (Views: 0.8ms | ActiveRecord: 6.3ms | Allocations: 24619)


Started GET "/v1/users" for 127.0.0.1 at 2023-01-09 20:38:12 +0100
Processing by V1::UsersController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/controllers/v1/users_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 846)


Started POST "/v1/users" for 127.0.0.1 at 2023-01-09 20:38:40 +0100
Processing by V1::UsersController#create as JSON
  Parameters: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}}
[31mUnpermitted parameter: :user. Context: { controller: V1::UsersController, action: create, request: #<ActionDispatch::Request:0x00007f847f50aa40>, params: {"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345", "password"=>"[FILTERED]", "controller"=>"v1/users", "action"=>"create", "user"=>{"login"=>"def", "first_name"=>"abc", "last_name"=>"abc", "account_type"=>"abc", "email"=>"def", "account_no"=>"pl11234567890123456789012345"}} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."login" = ? LIMIT ?[0m  [["login", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "def"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."account_no" = ? LIMIT ?[0m  [["account_no", "pl11234567890123456789012345"], ["LIMIT", 1]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("login", "first_name", "last_name", "account_type", "email", "account_no", "created_at", "updated_at", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["login", "def"], ["first_name", "abc"], ["last_name", "abc"], ["account_type", "abc"], ["email", "def"], ["account_no", "pl11234567890123456789012345"], ["created_at", "2023-01-09 19:38:40.996702"], ["updated_at", "2023-01-09 19:38:40.996702"], ["password_digest", "[FILTERED]"]]
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/v1/users_controller.rb:36:in `create'
Completed 500 Internal Server Error in 223ms (ActiveRecord: 1.4ms | Allocations: 5125)


  
ActiveRecord::RecordNotUnique (SQLite3::ConstraintException: UNIQUE constraint failed: index 'index_users_on_user_id'):
  
app/controllers/v1/users_controller.rb:36:in `create'
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221218113832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar, "first_name" varchar, "last_name" varchar, "account_type" varchar, "email" varchar, "account_no" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113832"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateManagers (20221218113842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "managers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_1306270b4d"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_managers_on_user_id" ON "managers" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113842"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePositions (20221218113942)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "positions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "position_name" varchar, "salary" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218113942"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateGates (20221218114010)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "gates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f5f5cd6088"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_gates_on_user_id" ON "gates" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114010"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateEmployees (20221218114020)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "department" varchar, "manager_id" integer NOT NULL, "position_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_dcfd3d4fc3"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_0fe1519b79"
FOREIGN KEY ("manager_id")
  REFERENCES "managers" ("id")
, CONSTRAINT "fk_rails_8425ebe6a1"
FOREIGN KEY ("position_id")
  REFERENCES "positions" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_user_id" ON "employees" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_employees_on_manager_id" ON "employees" ("manager_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_employees_on_position_id" ON "employees" ("position_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114020"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateVacations (20221218114057)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "vacations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "vacation_type" varchar, "decision" boolean, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_731ddac4b5"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_vacations_on_employee_id" ON "vacations" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114057"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRegisters (20221218114117)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "registers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer NOT NULL, "gate" integer, "date_in" date, "time_in" time, "date_out" date, "time_out" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_0425eb3c86"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_registers_on_employee_id" ON "registers" ("employee_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221218114117"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPasswordDigestToUsers (20221227135005)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227135005"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddIndexToUsersIndex (20221227151127)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_user_index" ON "users" ("user_index")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20221227151127"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-01-09 19:40:05.446546"], ["updated_at", "2023-01-09 19:40:05.446546"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
